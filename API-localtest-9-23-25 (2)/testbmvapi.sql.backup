/*
 Navicat Premium Data Transfer

 Source Server         : LocalHost
 Source Server Type    : MySQL
 Source Server Version : 80029
 Source Host           : localhost:3306
 Source Schema         : bmvapi

 Target Server Type    : MySQL
 Target Server Version : 80029
 File Encoding         : 65001

 Date: 14/07/2025 18:39:12
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for clientinvolved
-- ----------------------------
DROP TABLE IF EXISTS `clientinvolved`;
CREATE TABLE `clientinvolved`  (
  `id` int(0) NOT NULL AUTO_INCREMENT,
  `cid` int(0) NULL DEFAULT NULL,
  `uid` int(0) NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 6 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of clientinvolved
-- ----------------------------
INSERT INTO `clientinvolved` VALUES (1, 16, 1);
INSERT INTO `clientinvolved` VALUES (2, 658, 10);
INSERT INTO `clientinvolved` VALUES (3, 663, 10);
INSERT INTO `clientinvolved` VALUES (4, 664, 10);
INSERT INTO `clientinvolved` VALUES (5, 665, 1);

-- ----------------------------
-- Table structure for clients
-- ----------------------------
DROP TABLE IF EXISTS `clients`;
CREATE TABLE `clients`  (
  `id` int(0) NOT NULL AUTO_INCREMENT COMMENT 'Client ID',
  `email` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'Client email',
  `status` int(0) NOT NULL COMMENT 'Bitflags: 0 = orientate buttons left; 1 = in session/waiting room; 4 = orientate buttons to bottom; 4 = orientate buttons to top; 8 = orient to top; ',
  `name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '' COMMENT 'optional: Client name',
  `phone` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT '' COMMENT 'optional: Client phone',
  `addr` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT '' COMMENT 'optional: Client address',
  `notes` varchar(512) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'optional: Client notes/feedback section',
  `laststream` bigint(0) NULL DEFAULT NULL COMMENT 'Set when a video stream session was opened',
  `creationtime` timestamp(0) NULL DEFAULT '0000-00-00 00:00:00' COMMENT 'Creation time: set when client was added',
  `lastedited` timestamp(0) NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP(0) COMMENT 'Update time: set if this updates for any reason',
  `uuid` varchar(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'A public UUID that can be displayed',
  `medicarenum` varchar(12) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT '' COMMENT 'Medicare#',
  `compid` int(0) NOT NULL COMMENT 'Company ID for this client',
  `createdby` int(0) NULL DEFAULT NULL COMMENT 'User ID of client creator',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `name`(`name`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 666 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of clients
-- ----------------------------
INSERT INTO `clients` VALUES (16, 'jurugi@gmail.com', 0, 'John Test', '9545296818', '', '', 428, '2022-01-19 14:53:47', '2025-01-28 02:23:34', 'f0cc89bb-ab8d-45be-9048-c6cbfef0a3dc', '', 2, NULL);
INSERT INTO `clients` VALUES (658, '', 0, 'testcerefsefesfs', '', '', '', NULL, '2023-02-21 13:21:05', NULL, '15c9e55f-0d56-4c96-a213-13fe872bfd0c', '', 2, NULL);
INSERT INTO `clients` VALUES (663, '', 0, 'testgerge', '', 'test 21314 eyelid street road, ninety two', '', NULL, '2023-02-21 13:21:48', '2023-04-11 13:41:29', '7e8ffbdc-fa04-4a8f-89a5-50ae888cad3c', 'undefined', 2, NULL);
INSERT INTO `clients` VALUES (664, '', 0, 'testpiriuv', '', '', '5435435', NULL, '2023-02-21 13:21:59', '2023-04-10 12:27:32', '53bcb30f-86a9-4d71-b64c-4ede280a4111', '', 2, NULL);
INSERT INTO `clients` VALUES (665, '', 0, 'test435345', '', '', '', NULL, '2023-04-11 13:41:49', NULL, 'b6b77192-f0c2-4789-be4c-7e3c0cf6772e', 'undefined', 2, NULL);

-- ----------------------------
-- Table structure for companies
-- ----------------------------
DROP TABLE IF EXISTS `companies`;
CREATE TABLE `companies`  (
  `id` int(0) NOT NULL AUTO_INCREMENT COMMENT 'Company ID',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'Company/Group Name',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `CompanyName`(`name`) USING BTREE COMMENT 'Company names/filters are unique.'
) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of companies
-- ----------------------------
INSERT INTO `companies` VALUES (2, 'Blue Moon Senior Counseling');
INSERT INTO `companies` VALUES (1, 'Private');

-- ----------------------------
-- Table structure for scheduling
-- ----------------------------
DROP TABLE IF EXISTS `scheduling`;
CREATE TABLE `scheduling`  (
  `id` int(0) NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `cid` int(0) NOT NULL DEFAULT 0 COMMENT 'Client ID',
  `uid` int(0) NULL DEFAULT 0 COMMENT 'Creator\'s User ID',
  `date` datetime(0) NULL DEFAULT NULL COMMENT 'Date of Schedule',
  `status` int(0) NOT NULL DEFAULT 0 COMMENT 'Bitwise Status (1=Notify 24 hrs, 2=Notify 1 hr, 4=Sent 24 hrs, 8=Sent 1 hr, 16=text, 32=email)',
  `length` int(0) NULL DEFAULT NULL COMMENT 'Planned Session Length in Minutes',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `uid+date`(`uid`, `date`) USING BTREE,
  UNIQUE INDEX `cid+date`(`cid`, `date`) USING BTREE,
  INDEX `cid`(`cid`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 57 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of scheduling
-- ----------------------------
INSERT INTO `scheduling` VALUES (44, 658, 1, '2023-04-10 09:30:00', 0, 30);
INSERT INTO `scheduling` VALUES (45, 658, 1, '2023-04-11 21:30:00', 0, 30);
INSERT INTO `scheduling` VALUES (46, 658, 1, '2023-04-20 09:00:00', 0, 30);
INSERT INTO `scheduling` VALUES (47, 658, 1, '2023-04-11 11:55:00', 0, 30);
INSERT INTO `scheduling` VALUES (48, 658, 1, '2023-04-13 09:30:00', 0, 30);
INSERT INTO `scheduling` VALUES (49, 16, 1, '2023-04-19 09:00:00', 0, 30);
INSERT INTO `scheduling` VALUES (50, 658, 1, '2023-04-18 09:00:00', 0, 30);
INSERT INTO `scheduling` VALUES (51, 658, 1, '2023-04-17 09:00:00', 0, 30);
INSERT INTO `scheduling` VALUES (54, 16, 1, '2023-04-19 06:10:00', 32, 30);
INSERT INTO `scheduling` VALUES (55, 16, 1, '2023-04-19 08:00:00', 32, 30);
INSERT INTO `scheduling` VALUES (56, 16, 1, '2023-04-19 11:00:00', 32, 30);

-- ----------------------------
-- Table structure for settings
-- ----------------------------
DROP TABLE IF EXISTS `settings`;
CREATE TABLE `settings`  (
  `id` int(0) NOT NULL AUTO_INCREMENT COMMENT 'Just an unused ID',
  `views` bigint(0) NULL DEFAULT 0 COMMENT 'Viewcount for page',
  `selfregistration` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Global setting: let clients create themselves if true',
  `twofactorauth` smallint(0) NOT NULL DEFAULT 0 COMMENT '2FA: 0=off, 1=every time, 2=authorizedIPs',
  `version` float NOT NULL DEFAULT 1 COMMENT 'Global setting: version number',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of settings
-- ----------------------------
INSERT INTO `settings` VALUES (1, 0, 0, 0, 0.982);

-- ----------------------------
-- Table structure for userinvolved
-- ----------------------------
DROP TABLE IF EXISTS `userinvolved`;
CREATE TABLE `userinvolved`  (
  `id` int(0) NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `uid` int(0) NULL DEFAULT NULL COMMENT 'UserID',
  `cid` int(0) NULL DEFAULT NULL COMMENT 'CompanyID',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 9 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of userinvolved
-- ----------------------------
INSERT INTO `userinvolved` VALUES (1, 1, 2);
INSERT INTO `userinvolved` VALUES (2, 2, 2);
INSERT INTO `userinvolved` VALUES (3, 5, 2);
INSERT INTO `userinvolved` VALUES (4, 6, 2);
INSERT INTO `userinvolved` VALUES (5, 7, 2);
INSERT INTO `userinvolved` VALUES (6, 8, 2);
INSERT INTO `userinvolved` VALUES (8, 10, 2);

-- ----------------------------
-- Table structure for users
-- ----------------------------
DROP TABLE IF EXISTS `users`;
CREATE TABLE `users`  (
  `id` int(0) NOT NULL AUTO_INCREMENT,
  `user` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'Username',
  `pass` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'Password',
  `status` int(0) NULL DEFAULT 0 COMMENT 'Status(1=inactive)',
  `checksum` bigint(0) NOT NULL COMMENT 'Unique checksum of user/pass',
  `logincount` int(0) NULL DEFAULT 0 COMMENT 'Login Count',
  `email` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT '' COMMENT 'Email (used for 2FA if on)',
  `phone` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT '' COMMENT 'Phone',
  `twofactorauth` int(0) NOT NULL DEFAULT 0 COMMENT 'Current 2FA auth code',
  `accesslevel` tinyint(0) NULL DEFAULT 1 COMMENT 'Access level of user',
  `displaynamefirst` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT '' COMMENT 'First name (for display)',
  `displaynamelast` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT '' COMMENT 'Last name (for display)',
  `displaynametitle` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL DEFAULT NULL COMMENT 'Title name (for display/msg)',
  `tzOffset` smallint(0) NULL DEFAULT 255 COMMENT 'TimezoneOffset (255=auto-determine)',
  `pagelimit` smallint(0) NULL DEFAULT 25 COMMENT 'Limit per page (if pagination is set by bitStatus=128)',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `User & Pass`(`user`, `pass`) USING BTREE COMMENT 'User/Pass index',
  UNIQUE INDEX `Checksum`(`checksum`) USING BTREE COMMENT 'An integer representing user/pass sequence index'
) ENGINE = InnoDB AUTO_INCREMENT = 11 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of users
-- ----------------------------
INSERT INTO `users` VALUES (1, 'admin', 'c144', 136, 540609175, 168, 'admin@bluemoonseniorcounceling.com', '9545432345', 0, 5, 'Therapist', 'Jones', 'Mr.', 255, 25);
INSERT INTO `users` VALUES (8, 't2343r', '2668', 0, 764724238, 0, '', '', 0, 1, 'testy', '2343r', NULL, 255, 25);
INSERT INTO `users` VALUES (10, 'ttest2', 't450', 0, 4234778504, 1, '', '', 0, 1, 'test', 'test2', NULL, 255, 25);

SET FOREIGN_KEY_CHECKS = 1;
